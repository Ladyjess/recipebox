<h1>Recipes</h1>

<h3>Current list of recipes:</h3>

<% if @recipes.any?() %>
  <% @recipes.each() do |recipe| %>
    <li>
      <a href="/recipes/<%= recipe.id() %>"><%= recipe.name() %></a>

      <form class="delete-form" action="/recipes/<%= recipe.id() %>" method="post">
        <input name="_method" type="hidden" value="delete" />
        <button type="submit" class="btn btn-link"><span class="em-special">Delete</span></button>
      </form>

      <% if recipe.categories().any?() %>
        <% recipe.categories().each() do |category| %>
          <%= category.name() %>
        <% end %>
      <% else %>
        <p><em>No category assigned</em></p>
      <% end %>

    </li>
  <% end %>
<% else %>
  <p><em>The list is empty!</em></p>
<% end %><br/ >

<h3>Add a new recipe:</h3>

<form action="/recipes" method="post">
  <div class="form-group">
    <label for="recipe_name">Name: </label>
    <input id="recipe_name" name="recipe_name" class="form-control" type="text" />
  </div>
  <div class="form-group">
    <label for="recipe_desc">Description: </label>
    <input id="recipe_desc" name="recipe_desc" class="form-control" type="text" />
  </div>
  <div class="form-group">

    <label for="category_id">Select a category</label>
    <select id="category_id" name="category_id" type="text">
      <% @categories.each() do |category| %>
      <option value="<%= category.id()%>">
        <%= category.name() %>
      </option>
      <% end %>
    </select>

  </div>

  <button type="submit" class="btn btn-warning">Add Recipe</button>
</form><br />

<a href="/">Back</a>
